
<p>Function <b>Foo</b> is constructor, and getFirst() is a member function, which sorts array and returns 3 elements. Pay attention that we don't pass array as an argument. It passed as a context with foo object. </p>

<pre><code data-language="javascript">	
function Foo(arr){
      this.myArr = arr;
      this.getFirst = function(){
        function compare(a,b){
          return b.stargazers_count - a.stargazers_count
        }
        return this.myArr.sort(compare).slice(1,4);
      }
    }

  var foo = new Foo($scope.repos);
</code></pre>

<p>run it in thred &nbsp; &nbsp; &nbsp;<input type="button" ng-click="runWithContext()" value="Run with Context"/> </p>
<pre><code data-language="javascript">	 
var param = {
    fn:foo.getFirst,
    context:foo
  };

  vkThread.exec(param).then(
       function (data) {
           $scope.repos = data;
        },
        function(err) {
            alert(err);
        }
   );
 </code></pre>  

